Implanta√ß√£o do E-commerce no Photo Manager
Objetivo

Implementar um sistema de e-commerce dentro do Photo Manager, permitindo que pais comprem fotos online e que o fot√≥grafo receba diretamente pelas vendas.

Escopo

Modelo de pagamento: Direct-to-merchant (cada fot√≥grafo conecta suas pr√≥prias chaves de API; o dinheiro cai direto para ele).

Gateways suportados (fase 1): PagSeguro, Mercado Pago e Pagar.me.

Entrega: retirada/entrega na escola (n√£o h√° integra√ß√£o log√≠stica nesta fase).

Fiscal: n√£o emitir nota fiscal nem recolher impostos pela plataforma.

Comunica√ß√£o com compradores: e-mails transacionais.

Aviso ao fot√≥grafo: e-mails + op√ß√£o futura de notifica√ß√£o push/Telegram.

Funcionalidades principais

Configura√ß√µes de Pagamento (painel do fot√≥grafo)

Sele√ß√£o do gateway e ambiente (sandbox/produ√ß√£o).

Campos para inserir credenciais (chaves/tokens).

Exibi√ß√£o da URL de webhook (para colar no painel do gateway).

Checkboxes para escolher m√©todos aceitos (PIX, cart√£o, boleto).

Valida√ß√£o b√°sica da integra√ß√£o.

Loja P√∫blica (pais/escolas)

Carrinho de fotos com nomes dos arquivos e valores.

Cria√ß√£o de pedido local.

Redirecionamento para checkout hospedado do gateway.

P√°gina de confirma√ß√£o de pedido.

Pedidos e Pagamentos (backend + painel)

Registro do pedido com status inicial pending.

Tratamento de webhooks/notifica√ß√µes de pagamento (PagSeguro, Mercado Pago, Pagar.me).

Atualiza√ß√£o de status (paid, refused, refunded, expired).

Registro de hist√≥rico de eventos de pagamento (idempotente).

Painel do fot√≥grafo para acompanhar pedidos (listagem, filtros, detalhe).

E-mails autom√°ticos

Comprador: confirma√ß√£o do pedido, confirma√ß√£o do pagamento, instru√ß√µes de retirada na escola.

Fot√≥grafo: aviso de nova venda com detalhes (itens, arquivos, valores).

Painel de Pedidos (fot√≥grafo)

Listagem de pedidos com filtros (status, per√≠odo, escola/evento).

Detalhes do pedido: comprador, itens com nomes de arquivos, valores, m√©todo de pagamento.

Status de produ√ß√£o e entrega (em produ√ß√£o ‚Üí pronto ‚Üí entregue).

Op√ß√£o de exportar CSV.

Notifica√ß√µes adicionais

E-mail como padr√£o.

Implementar suporte a Web Push/Telegram como op√ß√£o gratuita de aviso em tempo real.

Seguran√ßa e conformidade

Armazenamento seguro de credenciais.

Separa√ß√£o sandbox/produ√ß√£o por tenant.

Tratamento correto de webhooks com assinatura/idempot√™ncia.

Conformidade LGPD: n√£o armazenar dados al√©m do necess√°rio.

Entreg√°veis

Fluxo de compra funcionando end-to-end (checkout ‚Üí webhook ‚Üí atualiza√ß√£o ‚Üí e-mails).

Painel de configura√ß√µes de pagamento por fot√≥grafo.

Painel de pedidos para fot√≥grafos.

E-mails transacionais funcionando.

Documenta√ß√£o m√≠nima para o fot√≥grafo: como pegar chaves, colar webhook e testar.





### USE CASES 

##üë®‚Äçüë©‚Äçüëß Pai/Respons√°vel (Comprador)

Acessa a p√°gina p√∫blica do fot√≥grafo e localiza o participante atrav√©s do QR Code fornecido pela escola/fot√≥grafo.

Visualiza as fotos dispon√≠veis, seleciona as que deseja adquirir e adiciona ao carrinho de compras.

Revisa o pedido, clica em Finalizar Compra e realiza o pagamento utilizando PIX ou cart√£o de cr√©dito/d√©bito.

Recebe um e-mail de confirma√ß√£o com os detalhes do pedido e instru√ß√µes de retirada na escola.

##üì∏ Tenant/Fot√≥grafo (Usu√°rio do SaaS)

Recebe uma notifica√ß√£o de nova venda via Web Push e/ou e-mail, contendo os detalhes do pedido.

Acessa o painel do Photo Manager, onde pode visualizar todas as vendas, filtr√°-las e acompanhar o status de cada uma (Pagamento, Produ√ß√£o, Impress√£o, Finalizado).

Abre o pedido espec√≠fico para consultar:

Dados do comprador (nome e contato).

Itens adquiridos (nomes dos arquivos, imagens, quantidades, valores).

Forma de pagamento e status atual.

Atualiza o status do pedido conforme o andamento:

‚ÄúEm produ√ß√£o‚Äù ‚Üí ‚ÄúImpresso‚Äù ‚Üí ‚ÄúPronto para entrega‚Äù ‚Üí ‚ÄúFinalizado‚Äù.

Imprime o pedido/detalhes para organizar a produ√ß√£o.

Ap√≥s concluir a produ√ß√£o, realiza a entrega do material na escola.

Marca o pedido como Finalizado, encerrando o fluxo.